[gd_scene load_steps=22 format=3 uid="uid://1pej4df0pxlq"]

[ext_resource type="Script" path="res://addons/event_sheet/source/nodes/VNode2D.gd" id="1_yhkwf"]
[ext_resource type="Script" path="res://addons/event_sheet/source/resources/block_resource.gd" id="2_n2qdk"]
[ext_resource type="Script" path="res://addons/event_sheet/source/resources/action_resource.gd" id="3_tko1y"]
[ext_resource type="Texture2D" uid="uid://byf2yg4kua5ik" path="res://addons/event_sheet/resources/icons/system.svg" id="4_tv6u3"]
[ext_resource type="Texture2D" uid="uid://b5fio4vb6m01y" path="res://icon2.svg" id="6_ijjpy"]
[ext_resource type="Script" path="res://addons/event_sheet/source/resources/event_resource.gd" id="6_yvn5b"]

[sub_resource type="GDScript" id="GDScript_yte6s"]
script/source = "
static func params() -> Dictionary:
	return { }

static func get_template(_params: Dictionary = params()) -> String:
	return \"\"\"func _ready() -> void:\"\"\".format({ })

static func get_info(_params: Dictionary = params()) -> String:
	return \"\"\"Ready\"\"\".format({ })
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_rywfb"]
load_path = "res://.godot/imported/start.svg-50b8a4b7d61a0a501ba76e919ebbc42a.ctex"

[sub_resource type="Resource" id="Resource_qq5ge"]
script = ExtResource("6_yvn5b")
id = "90e7c60b-15b7-4b74-882c-c91de7054e54"
name = "Ready"
icon = SubResource("CompressedTexture2D_rywfb")
icon_path = ""
description = ""
type = 1
group = 1
category = 0
gd_script = SubResource("GDScript_yte6s")
parameters = {}
pick_object = {
"condition_type": 0,
"disable_color": false,
"icon": ExtResource("4_tv6u3"),
"name": "System",
"object": null,
"type": "System"
}

[sub_resource type="Resource" id="Resource_pkbiv"]
script = ExtResource("2_n2qdk")
id = "58321baf-076b-47f9-8f18-240845783e15"
level = 0
block_expand = 0
block_type = 0
events = Array[ExtResource("6_yvn5b")]([SubResource("Resource_qq5ge")])
actions = Array[ExtResource("3_tko1y")]([])
sub_blocks = Array[ExtResource("2_n2qdk")]([])

[sub_resource type="GDScript" id="GDScript_popo3"]
script/source = "
const Types = preload(\"res://addons/event_sheet/source/utils/event_sheet_types.gd\")

static func params() -> Dictionary:
	return {
		\"x\": {
			\"order\": 0,
			\"name\": \"X\",
			\"type\": Types.STANDART_TYPES.STRING,
			\"value\": \"0\"
		},
		\"y\": {
			\"order\": 1,
			\"name\": \"Y\",
			\"type\": Types.STANDART_TYPES.STRING,
			\"value\": \"0\"
		}
	}

static func get_template(_params: Dictionary = params()) -> String:
	return \"\"\"
{object}.set_position(Vector2({x}, {y}))
\"\"\".format({
		\"x\": _params[\"x\"][\"value\"],
		\"y\": _params[\"y\"][\"value\"]
	})

static func get_info(_params: Dictionary = params()) -> String:
	return \"\"\"Set position: {x}, {y}\"\"\".format({
		\"x\": _params[\"x\"][\"value\"],
		\"y\": _params[\"y\"][\"value\"],
	})
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_6j7mg"]
load_path = "res://.godot/imported/system.svg-1bd5c9cfe04c7942f6362c315c351e6f.ctex"

[sub_resource type="Resource" id="Resource_nuq3t"]
script = ExtResource("3_tko1y")
id = "a545f72a-e862-4585-93cf-5992d57001d7"
name = "Set position"
icon = SubResource("CompressedTexture2D_6j7mg")
icon_path = ""
description = "New X co-ordinate, in pixels."
group = 1
category = 0
gd_script = SubResource("GDScript_popo3")
parameters = {
"x": {
"name": "X",
"order": 0,
"type": 0,
"value": "sprite_2d.position.x + 1"
},
"y": {
"name": "Y",
"order": 1,
"type": 0,
"value": "sprite_2d.position.y + 1"
}
}
pick_object = {
"condition_type": 1,
"disable_color": true,
"icon": ExtResource("6_ijjpy"),
"name": &"Sprite2D",
"object": NodePath("/root/@EditorNode@16886/@Panel@13/@VBoxContainer@14/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@25/DockVSplitCenter/@VSplitContainer@52/@VBoxContainer@53/@PanelContainer@98/MainScreen/@CanvasItemEditor@9272/@VSplitContainer@9094/@HSplitContainer@9096/@HSplitContainer@9098/@Control@9099/@SubViewportContainer@9100/@SubViewport@9101/VNode2D/Sprite2D"),
"type": "Node"
}

[sub_resource type="GDScript" id="GDScript_i0kae"]
script/source = "
const Types = preload(\"res://addons/event_sheet/source/utils/event_sheet_types.gd\")

static func params() -> Dictionary:
	return {
		\"rotation\": {
			\"order\": 0,
			\"name\": \"Rotation\",
			\"type\": Types.STANDART_TYPES.STRING,
			\"value\": \"0\"
		}
	}

static func get_template(_params: Dictionary = params()) -> String:
	return \"\"\"
{object}.set_rotation({rotation})
\"\"\".format({
		\"rotation\": _params[\"rotation\"][\"value\"]
	})

static func get_info(_params: Dictionary = params()) -> String:
	return \"\"\"Set rotation: {rotation} degrees\"\"\".format({
		\"rotation\": _params[\"rotation\"][\"value\"]
	})
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_4o4st"]
load_path = "res://.godot/imported/system.svg-1bd5c9cfe04c7942f6362c315c351e6f.ctex"

[sub_resource type="Resource" id="Resource_8yj53"]
script = ExtResource("3_tko1y")
id = "8d30bf4c-5ff4-440a-bbc3-1915b416b220"
name = "Set rotation"
icon = SubResource("CompressedTexture2D_4o4st")
icon_path = ""
description = "New object angle, in degrees."
group = 1
category = 0
gd_script = SubResource("GDScript_i0kae")
parameters = {
"rotation": {
"name": "Rotation",
"order": 0,
"type": 0,
"value": "sprite_2d.rotation + 0.02"
}
}
pick_object = {
"condition_type": 1,
"disable_color": true,
"icon": ExtResource("6_ijjpy"),
"name": &"Sprite2D",
"object": NodePath("/root/@EditorNode@16886/@Panel@13/@VBoxContainer@14/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@25/DockVSplitCenter/@VSplitContainer@52/@VBoxContainer@53/@PanelContainer@98/MainScreen/@CanvasItemEditor@9272/@VSplitContainer@9094/@HSplitContainer@9096/@HSplitContainer@9098/@Control@9099/@SubViewportContainer@9100/@SubViewport@9101/VNode2D/Sprite2D"),
"type": "Node"
}

[sub_resource type="GDScript" id="GDScript_k7cms"]
script/source = "
static func params() -> Dictionary:
	return { }

static func get_template(params: Dictionary = params()) -> String:
	return \"\"\"func _process(delta: float) -> void:\"\"\".format({ })

static func get_info(params: Dictionary = params()) -> String:
	return \"\"\"Process\"\"\".format({ })
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_bulrb"]
load_path = "res://.godot/imported/cycle.svg-67ee4c8fff41487ff559885597ef781b.ctex"

[sub_resource type="Resource" id="Resource_vgw5r"]
script = ExtResource("6_yvn5b")
id = "fa914e94-f614-44b3-ae74-3050be8056fe"
name = "Process"
icon = SubResource("CompressedTexture2D_bulrb")
icon_path = ""
description = ""
type = 1
group = 1
category = 0
gd_script = SubResource("GDScript_k7cms")
parameters = {}
pick_object = {
"condition_type": 0,
"disable_color": false,
"icon": ExtResource("4_tv6u3"),
"name": "System",
"object": null,
"type": "System"
}

[sub_resource type="Resource" id="Resource_u3ey6"]
script = ExtResource("2_n2qdk")
id = "2c923edf-9977-4b1c-bb8a-b63e8855455f"
level = 0
block_expand = 0
block_type = 0
events = Array[ExtResource("6_yvn5b")]([SubResource("Resource_vgw5r")])
actions = Array[ExtResource("3_tko1y")]([SubResource("Resource_nuq3t"), SubResource("Resource_8yj53")])
sub_blocks = Array[ExtResource("2_n2qdk")]([])

[sub_resource type="GDScript" id="GDScript_dma6q"]
script/source = "extends Node2D

@onready var sprite_2d

func _init():
	sprite_2d = $\"Sprite2D\"
	pass

func _ready():
	pass

func _process(delta: float):
	sprite_2d.set_position(Vector2(sprite_2d.position.x + 1, sprite_2d.position.y + 1))
	sprite_2d.set_rotation(sprite_2d.rotation + 0.02)
"

[node name="VNode2D" type="Node2D"]
script = ExtResource("1_yhkwf")
event_sheet_data = Array[ExtResource("2_n2qdk")]([SubResource("Resource_pkbiv"), SubResource("Resource_u3ey6")])
final_script = SubResource("GDScript_dma6q")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(55, 56)
scale = Vector2(0.1473, 0.147299)
texture = ExtResource("6_ijjpy")
